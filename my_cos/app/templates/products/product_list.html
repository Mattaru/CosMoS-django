{% extends 'base.html' %}

{% block additional_style %}
    {% load static %}
    <link rel="stylesheet" href="{% static 'stylesheets/main.css' %}">
{% endblock %}

{% block account %}
	<div class="account-container">
		{% if user.username %}
			<a class="nav-link" href="/profile/{{ user.id }}">{{ user.username }}</a>
			<p class="nav-link">|</p>
			<a class="nav-link" href="{% url 'acc:logout' %}">logout</a>
		{% else %}
			<a class="nav-link" href="{% url 'acc:login' %}">login</a>
		{% endif %}
	</div>
{% endblock %}

{% block logo %}
	<svg xmlns="http://www.w3.org/2000/svg" width="200" height="200" fill="currentColor" class="bi bi-egg-fried logo" viewBox="0 0 16 16">
	  <path d="M8 11a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
	  <path d="M13.997 5.17a5 5 0 0 0-8.101-4.09A5 5 0 0 0 1.28 9.342a5 5 0 0 0 8.336 5.109 3.5 3.5 0 0 0 5.201-4.065 3.001 3.001 0 0 0-.822-5.216zm-1-.034a1 1 0 0 0 .668.977 2.001 2.001 0 0 1 .547 3.478 1 1 0 0 0-.341 1.113 2.5 2.5 0 0 1-3.715 2.905 1 1 0 0 0-1.262.152 4 4 0 0 1-6.67-4.087 1 1 0 0 0-.2-1 4 4 0 0 1 3.693-6.61 1 1 0 0 0 .8-.2 4 4 0 0 1 6.48 3.273z"/>
	</svg>
{% endblock %}

{% block search %}
	<form class="search-form" action="{% url 'app:product_list' %}">
		{{ search_form }}
		<button class="search-btn">
			<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
			  <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>
			</svg>
		</button>
	</form>
{% endblock %}

{% block left_nav %}
	<div class="nav-panel">
		<a class="nav-link" href="{% url 'app:product_create' %}">Add product</a>
		<a class="nav-link" href="{% url 'app:about_us' %}">About us</a>
	</div>
{% endblock %}

{% block content %}
<div class="content-container">
	{% if object_list %}
	{% for product in object_list %}
	<a class="list-item-link" href="{{ product.get_absolute_url }}">
		<div class="list-row">		
			<img class="list-img" src="{{ product.img.url }}" alt="{{ product.name }}">
			<div class="product-simple-info">
				<h2>{{ product.name }}</h4> 
				{% if product.line %} 
					<p>{{ product.brand }} - {{ product.line }}</p>
				{% else %}
					<p>{{ product.brand }}</p>
				{% endif %}
				
			</div>	
			<img src="/media/flags-svg/{{ product.brand.country.flag_img_name }}" width="32" height="32">				
		</div>
	</a>
	{% endfor %}
	{% else %}
		<div class="not-content">
			<p>Please enter data for search...</p>
		</div>
	{% endif %}
</div>
{% endblock %}